@model DataAccess.CustomModels.OrderData;<style>    body {        background-color: #f8f9fa;        font-family: Arial, sans-serif;    }    .card {        background-color: #fff;        border-radius: 10px;        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);    }    .form-section {        margin-bottom: 30px;    }    .order-summary {        border-top: 2px solid #dee2e6;        border-bottom: 2px solid #dee2e6;    }        .order-summary h4 {            margin-top: 0;        }</style><div class="container">    <div class="card m-5 p-5">        <h2 class="text-center mb-4">Checkout</h2>        <form method="post" action="/Orders/ProcessPayment" id="ProcessPaymentData">            <!-- Billing Details -->            <input type="text " asp-for="@Model.Orderid" hidden />            <input type="text " asp-for="@Model.customerId" hidden />            <div class="form-section">                <h4>Billing Details</h4>                <div class="form-row">                    <div class="form-group ">                        <label for="billingFirstName">First Name</label>                        <input type="text" class="form-control" id="billingFirstName" name="BillingFirstName" asp-for=CustomerName placeholder="First Name">                    </div>                    <div class="form-group col-md-6">                        <label for="billingLastName">email</label>                        <input type="email" class="form-control" id="billingLastName" name="BillingLastName" asp-for=Email placeholder="Last Name">                    </div>                </div>                <div class="form-group col-md-6">                    <label for="billingAddress">PhoneNumber</label>                    <input type="text" class="form-control" id="billingAddress" name="BillingAddress" asp-for=PhoneNumber placeholder="1234 Main St">                </div>                <div class="form-group">                    <label for="billingAddress2">Address </label>                    <input type="text" class="form-control" id="billingAddress2" name="BillingAddress2" asp-for=OrderAddress placeholder="Apartment, studio, or floor">                </div>                <div class="form-row">                    <div class="form-group col-md-6">                        <label for="billingCity">City</label>                        <input type="text" class="form-control" id="billingCity" asp-for=city name="BillingCity">                    </div>                </div>            </div>            <!-- Order Summary -->            <div class="form-section order-summary mt-2">                <h4>Order Summary</h4>                <ul class="list-group mb-3">                    @if (Model.bookId != null)
                    {                        <li class="list-group-item d-flex justify-content-between lh-condensed">                            <div>                                <h6 class="my-0">@Model.BookName</h6>                                <small class="text-muted">@Model.AuthorName</small>                            </div>                            <span class="text-muted">$ @Model.Price</span>                            <span class="text-muted">$ @Model.Quantity</span>                            <span class="text-muted">$ @Model.TotalAmount</span>                        </li>                    }
                    else
                    {                        @foreach (var obj in Model.addtocarts.ToList())
                        {                            <li class="list-group-item d-flex justify-content-between lh-condensed">                                <div>                                    <h6 class="my-0">@obj.Book.Title</h6>                                    <small class="text-muted">                                        @Model.Authors?.FirstOrDefault(x=>x.Authorid == obj.Book.Authorid).Name                                    </small>                                </div>                                <span class="text-muted">$ @obj.Price</span>                                <span class="text-muted">$ @obj.Quantity</span>                                <span class="text-muted">$ @obj.Totalamount</span>                            </li>                        }                        <hr />                        <li class="list-group-item d-flex justify-content-between lh-condensed">                            <span class="text-muted"> $ @totalamount() </span>                        </li>                    }                </ul>            </div>            <!-- Submit Button -->            @if (Model.Orders.Count == 0)            {                <button type="submit" class="btn btn-primary btn-lg btn-block" onclick="getPayment(@Model.Orderid)">Place Order and make payment</button>            }
            else
            {                <button type="submit" class="btn btn-success btn-lg btn-block" onclick="getPayment2()">Place Order and make payment</button>            }        </form>    </div></div>@functions {    public decimal? totalamount()
    {
        decimal? total = Model.addtocarts.Sum(x => x.Totalamount);
        return total;
    }}<script>    document.addEventListener('DOMContentLoaded', function () {        var sameAsBillingCheckbox = document.getElementById('sameAsBilling');        var shippingDetails = document.getElementById('shippingDetails');        sameAsBillingCheckbox.addEventListener('change', function () {            if (sameAsBillingCheckbox.checked) {                shippingDetails.style.display = 'none';            } else {                shippingDetails.style.display = 'block';            }        });    });    function getPayment(Orderid) {        event.preventDefault();        $.ajax({            method: "POST",            url: "/Home/getPayment",            data: { Orderid: Orderid },            success: function (result) {                $('#custDashboard').empty()                $('#UserProfile').empty()                $('#UserProfile').html(result)            },            error: function () {                alert('Error loading partial view');            }        });    }    function getPayment() {        event.preventDefault();        $.ajax({            method: "POST",            url: "/Home/getPayment2",            data: $('#ProcessPaymentData').serialize(),            success: function (result) {                $('#custDashboard').empty()                $('#UserProfile').empty()                $('#UserProfile').html(result)            },            error: function () {                alert('Error loading partial view');            }        });    }    function getPaymentDone() {        event.preventDefault();        $.ajax({            method: "POST",            url: "/Home/getPaymentDone",            data: $('#ProcessPaymentData').serialize(),            success: function (result) {                $('#custDashboard').empty()                $('#UserProfile').empty()                $('#UserProfile').html(result)            },            error: function () {                alert('Error loading partial view');            }        });    }</script>